{"ast":null,"code":"import _regeneratorRuntime from \"/home/syed-fahad-hussain/Documents/blockchain/Ethereum/projects/Vehicle-Verification-Blockchain-master/Portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/syed-fahad-hussain/Documents/blockchain/Ethereum/projects/Vehicle-Verification-Blockchain-master/Portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/syed-fahad-hussain/Documents/blockchain/Ethereum/projects/Vehicle-Verification-Blockchain-master/Portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/syed-fahad-hussain/Documents/blockchain/Ethereum/projects/Vehicle-Verification-Blockchain-master/Portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/syed-fahad-hussain/Documents/blockchain/Ethereum/projects/Vehicle-Verification-Blockchain-master/Portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/syed-fahad-hussain/Documents/blockchain/Ethereum/projects/Vehicle-Verification-Blockchain-master/Portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/syed-fahad-hussain/Documents/blockchain/Ethereum/projects/Vehicle-Verification-Blockchain-master/Portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/syed-fahad-hussain/Documents/blockchain/Ethereum/projects/Vehicle-Verification-Blockchain-master/Portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/syed-fahad-hussain/Documents/blockchain/Ethereum/projects/Vehicle-Verification-Blockchain-master/Portal/src/components/portals/insurance.js\";\nimport React, { Component } from \"react\";\nimport { TextField, Divider, Paper, RaisedButton } from 'material-ui';\nimport Snackbar from 'material-ui/Snackbar';\nimport web3 from \"../../interface/web3\";\nimport VehicleController from \"../../interface/vehicleController\";\nimport HelperFunctions from \"../../utils/constants\";\n\nvar Insurance =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Insurance, _Component);\n\n  function Insurance() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Insurance);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Insurance)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      VINnumber: '',\n      insuranceNumber: '',\n      insuranceDetails: '',\n      insuranceCompany: '',\n      numberOfInsurance: '',\n      additionalDetails: '',\n      open: false,\n      transactionHash: ''\n    };\n\n    _this.handleClick = function () {\n      _this.setState({\n        open: true\n      });\n    };\n\n    _this.handleRequestClose = function () {\n      _this.setState({\n        open: false\n      });\n    };\n\n    _this.submitHandler =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var that, obj, accounts;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(_this.state.insuranceNumber === '' || _this.state.insuranceCompany === '' || _this.state.numberOfInsurance === '' || _this.state.additionalDetails === '' || _this.state.VINnumber === '')) {\n                _context.next = 4;\n                break;\n              }\n\n              alert('all the fields are required');\n              _context.next = 11;\n              break;\n\n            case 4:\n              that = _assertThisInitialized(_assertThisInitialized(_this));\n              obj = _this.state;\n              _context.next = 8;\n              return web3.eth.getAccounts();\n\n            case 8:\n              accounts = _context.sent;\n              _context.next = 11;\n              return VehicleController.methods.addInsuranceData(HelperFunctions.convertStringToHex(obj.VINnumber), HelperFunctions.convertStringToHex(obj.insuranceNumber), HelperFunctions.convertStringToHex(obj.numberOfInsurance), HelperFunctions.convertStringToHex(obj.insuranceDetails), HelperFunctions.convertStringToHex(obj.insuranceNumber), HelperFunctions.convertStringToHex(obj.insuranceCompany), HelperFunctions.convertStringToHex(that.props.obj.address), HelperFunctions.getUnixTime(), HelperFunctions.convertStringToHex(obj.additionalDetails)).send({\n                from: accounts[0]\n              }).on('transactionHash', function (hash) {\n                console.log(hash);\n\n                _this.setState({\n                  transactionHash: 'https://rinkeby.etherscan.io/tx/' + hash\n                });\n              }).on('confirmation', function () {}).catch(function (err) {\n                console.log(err);\n\n                _this.setState({\n                  open: true\n                });\n              });\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    _this.VINhandler = function (ev) {\n      console.log(ev.target.value);\n\n      _this.setState({\n        VINnumber: ev.target.value\n      });\n    };\n\n    _this.numberOfInsuranceHandler = function (ev) {\n      console.log(ev.target.value);\n\n      _this.setState({\n        numberOfInsurance: ev.target.value\n      });\n    };\n\n    _this.InsuranceDetailsHandler = function (ev) {\n      console.log(ev.target.value);\n\n      _this.setState({\n        model: ev.target.value\n      });\n    };\n\n    _this.insuranceCompanyHandler = function (ev) {\n      console.log(ev.target.value);\n\n      _this.setState({\n        insuranceCompany: ev.target.value\n      });\n    };\n\n    _this.InsuranceNumberHandler = function (ev) {\n      console.log(ev.target.value);\n\n      _this.setState({\n        insuranceNumber: ev.target.value\n      });\n    };\n\n    _this.otherDetailsHandler = function (ev) {\n      console.log(ev.target.value);\n\n      _this.setState({\n        additionalDetails: ev.target.value\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Insurance, [{\n    key: \"render\",\n    value: function render() {\n      var style = {\n        width: 'auto',\n        marginTop: '15px',\n        paddingLeft: '10px'\n      };\n      return React.createElement(\"div\", {\n        style: {\n          width: 'fit-content',\n          margin: 'auto'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        style: style,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, \"Car Details\"), React.createElement(Paper, {\n        zDepth: 2,\n        style: style,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        hintText: \"AGJ487\",\n        floatingLabelFixed: true,\n        onChange: this.VINhandler,\n        floatingLabelText: \"Enter VIN Number here\",\n        underlineShow: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      })), React.createElement(TextField, {\n        hintText: \"Jubliee Insurance\",\n        floatingLabelText: \"Insurance Company Name\",\n        onChange: this.insuranceCompanyHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        hintText: \"8034\",\n        floatingLabelText: \"Enter Insurance Number Here\",\n        onChange: this.InsuranceNumberHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        hintText: \"2\",\n        floatingLabelText: \"Number Of Insurances\",\n        onChange: this.numberOfInsuranceHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        hintText: \"Life-time insurance etc\",\n        floatingLabelText: \"Insurance Details\",\n        onChange: this.InsuranceDetailsHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        hintText: \"Other\",\n        floatingLabelText: \"Additional Details\",\n        fullWidth: true,\n        onChange: this.otherDetailsHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }), React.createElement(RaisedButton, {\n        label: \"Submit\",\n        primary: true,\n        onClick: this.submitHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }), this.state.transactionHash ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, \"Track Your Transction Here\"), React.createElement(\"a\", {\n        href: this.state.transactionHash,\n        target: \"_blank\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, \" \", this.state.transactionHash, \" \")) : null, React.createElement(Snackbar, {\n        open: this.state.open,\n        message: \"Metamask not loggedin\",\n        onClick: this.handleClick,\n        autoHideDuration: 4000,\n        onRequestClose: this.handleRequestClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Insurance;\n}(Component);\n\nexport { Insurance as default };","map":{"version":3,"sources":["/home/syed-fahad-hussain/Documents/blockchain/Ethereum/projects/Vehicle-Verification-Blockchain-master/Portal/src/components/portals/insurance.js"],"names":["React","Component","TextField","Divider","Paper","RaisedButton","Snackbar","web3","VehicleController","HelperFunctions","Insurance","state","VINnumber","insuranceNumber","insuranceDetails","insuranceCompany","numberOfInsurance","additionalDetails","open","transactionHash","handleClick","setState","handleRequestClose","submitHandler","alert","that","obj","eth","getAccounts","accounts","methods","addInsuranceData","convertStringToHex","props","address","getUnixTime","send","from","on","hash","console","log","catch","err","VINhandler","ev","target","value","numberOfInsuranceHandler","InsuranceDetailsHandler","model","insuranceCompanyHandler","InsuranceNumberHandler","otherDetailsHandler","style","width","marginTop","paddingLeft","margin"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {TextField, Divider, Paper, RaisedButton} from 'material-ui';import Snackbar from 'material-ui/Snackbar';\nimport web3 from \"../../interface/web3\";\nimport VehicleController from \"../../interface/vehicleController\";\nimport HelperFunctions from \"../../utils/constants\";\n\nexport default class Insurance extends Component{\n    state = {\n        VINnumber : '',\n        insuranceNumber : '',\n        insuranceDetails : '',\n        insuranceCompany : '',\n        numberOfInsurance : '',\n        additionalDetails : '', open : false, transactionHash : ''\n    }\n    handleClick = () => {\n        this.setState({\n          open: true,\n        });\n      };\n    \n      handleRequestClose = () => {\n        this.setState({\n          open: false,\n        });\n      };\n\n    submitHandler = async () => {\n        if(this.state.insuranceNumber === '' || this.state.insuranceCompany === '' || this.state.numberOfInsurance === '' || this.state.additionalDetails === '' || this.state.VINnumber === ''){\n            alert('all the fields are required');\n        }\n        else{\n            let that = this;\n            let obj = this.state;\n            const accounts = await web3.eth.getAccounts();\n            await VehicleController.methods\n                .addInsuranceData(\n                    HelperFunctions.convertStringToHex(obj.VINnumber),\n                    HelperFunctions.convertStringToHex(obj.insuranceNumber),\n                    HelperFunctions.convertStringToHex(obj.numberOfInsurance),\n                    HelperFunctions.convertStringToHex(obj.insuranceDetails),\n                    HelperFunctions.convertStringToHex(obj.insuranceNumber),\n                    HelperFunctions.convertStringToHex(obj.insuranceCompany),\n                    HelperFunctions.convertStringToHex(that.props.obj.address),\n                    HelperFunctions.getUnixTime(),\n                    HelperFunctions.convertStringToHex(obj.additionalDetails))\n                .send({\n                    from: accounts[0]\n                }).on('transactionHash',(hash) =>{\n                    console.log(hash);\n                    this.setState({transactionHash : 'https://rinkeby.etherscan.io/tx/'+hash})\n                }).on('confirmation', function(){\n                    // this.setState = ({open : true})\n                })\n                .catch(err => {\n                    console.log(err)\n                    this.setState({\n                        open : true\n                    })\n                })\n        }\n        }\n\n    VINhandler = (ev) => {\n        console.log(ev.target.value)\n        this.setState({\n            VINnumber : ev.target.value\n        })\n    }\n    numberOfInsuranceHandler = (ev) => {\n        console.log(ev.target.value)\n        this.setState({\n            numberOfInsurance : ev.target.value\n        })\n    }\n    InsuranceDetailsHandler = (ev) => {\n        console.log(ev.target.value)\n        this.setState({\n            model : ev.target.value\n        })\n    }\n    insuranceCompanyHandler = (ev) => {\n        console.log(ev.target.value)\n        this.setState({\n            insuranceCompany : ev.target.value\n        })\n    }\n    InsuranceNumberHandler = (ev) => {\n        console.log(ev.target.value)\n        this.setState({\n            insuranceNumber : ev.target.value\n        })\n    }\n    otherDetailsHandler = (ev) => {\n        console.log(ev.target.value)\n        this.setState({\n            additionalDetails : ev.target.value\n        })\n    }\n\n    render(){\n        const style = {\n            width : 'auto',\n          marginTop : '15px',\n          paddingLeft : '10px'\n        };\n          return(\n          <div style = {{width : 'fit-content', margin : 'auto'}}>\n          <h3 style = {style}>Car Details</h3>\n    <Paper zDepth={2} style = {style}>\n      <TextField hintText=\"AGJ487\" floatingLabelFixed={true} onChange = {this.VINhandler} floatingLabelText=\"Enter VIN Number here\" underlineShow={false}/>\n      {/* <TextField hintText=\"40000 $\" floatingLabelFixed={true} onChange = {this.costHandler} floatingLabelText= \"Price\" underlineShow={false} />\n      <Divider/>\n      <TextField hintText=\"2004\" floatingLabelFixed={true} onChange = {this.modelHandler} floatingLabelText=\"Model Number\" underlineShow={false} />\n      <TextField hintText=\"Honda\" floatingLabelFixed={true} onChange = {this.makerHandler} floatingLabelText = \"Maker\" underlineShow={false} />\n      <Divider />\n      <TextField hintText=\"4\" floatingLabelFixed={true} onChange = {this.wheelsHandler} floatingLabelText=\"Number Of Wheels\" underlineShow={false} />\n      <TextField hintText=\"4\" floatingLabelFixed={true} onChange = {this.doorsHandler} floatingLabelText = \"Number Of Doors\" underlineShow={false} />\n      <Divider /> */}\n    </Paper>\n    <TextField\n        hintText=\"Jubliee Insurance\"\n        floatingLabelText=\"Insurance Company Name\"\n        onChange = {this.insuranceCompanyHandler}\n    />\n                    <TextField\n            hintText=\"8034\"\n            floatingLabelText=\"Enter Insurance Number Here\"\n            onChange = {this.InsuranceNumberHandler}\n            /><br/>\n                <TextField\n        hintText=\"2\"\n        floatingLabelText=\"Number Of Insurances\"\n        onChange = {this.numberOfInsuranceHandler}\n    />\n                    <TextField\n            hintText=\"Life-time insurance etc\"\n            floatingLabelText=\"Insurance Details\"\n            onChange = {this.InsuranceDetailsHandler}\n            /><br/>\n      <TextField\n        hintText=\"Other\"\n        floatingLabelText=\"Additional Details\"\n        fullWidth={true}\n        onChange = {this.otherDetailsHandler}\n      /><br/>\n          <RaisedButton label=\"Submit\" primary={true} onClick = {this.submitHandler} />\n          {(this.state.transactionHash)? ( <div>\n            <h5>Track Your Transction Here</h5>\n            <a href = {this.state.transactionHash} target = \"_blank\"> {this.state.transactionHash} </a>\n              </div>) : (null)\n          }\n          <Snackbar\n          open={this.state.open}\n          message=\"Metamask not loggedin\"\n          onClick = {this.handleClick}\n          autoHideDuration={4000}\n          onRequestClose={this.handleRequestClose}\n        />\n          </div>)\n      }\n}"]},"metadata":{},"sourceType":"module"}