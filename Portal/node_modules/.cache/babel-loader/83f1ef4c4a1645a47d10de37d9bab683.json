{"ast":null,"code":"(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@babel/runtime/helpers/classCallCheck'), require('@babel/runtime/helpers/createClass'), require('eventemitter3')) : typeof define === 'function' && define.amd ? define(['exports', '@babel/runtime/helpers/classCallCheck', '@babel/runtime/helpers/createClass', 'eventemitter3'], factory) : factory(global.Web3CorePromiEvent = {}, global._classCallCheck, global._createClass, global.EventEmitter);\n})(this, function (exports, _classCallCheck, _createClass, EventEmitter) {\n  'use strict';\n\n  _classCallCheck = _classCallCheck && _classCallCheck.hasOwnProperty('default') ? _classCallCheck['default'] : _classCallCheck;\n  _createClass = _createClass && _createClass.hasOwnProperty('default') ? _createClass['default'] : _createClass;\n  EventEmitter = EventEmitter && EventEmitter.hasOwnProperty('default') ? EventEmitter['default'] : EventEmitter;\n\n  var PromiEvent = function () {\n    function PromiEvent() {\n      var _this = this;\n\n      _classCallCheck(this, PromiEvent);\n\n      this.promise = new Promise(function (resolve, reject) {\n        _this.resolve = resolve;\n        _this.reject = reject;\n      });\n      this.eventEmitter = new EventEmitter();\n      return new Proxy(this, {\n        get: this.proxyHandler\n      });\n    }\n\n    _createClass(PromiEvent, [{\n      key: \"proxyHandler\",\n      value: function proxyHandler(target, name) {\n        if (name === 'resolve' || name === 'reject') {\n          return target[name];\n        }\n\n        if (name === 'then') {\n          return target.promise.then.bind(target.promise);\n        }\n\n        if (name === 'catch') {\n          return target.promise.catch.bind(target.promise);\n        }\n\n        if (target.eventEmitter[name]) {\n          return target.eventEmitter[name];\n        }\n      }\n    }]);\n\n    return PromiEvent;\n  }();\n\n  exports.PromiEvent = PromiEvent;\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n});","map":null,"metadata":{},"sourceType":"script"}