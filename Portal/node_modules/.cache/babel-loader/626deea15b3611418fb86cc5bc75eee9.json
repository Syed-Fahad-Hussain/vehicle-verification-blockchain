{"ast":null,"code":"import _regeneratorRuntime from \"/home/syed-fahad-hussain/Documents/blockchain/Ethereum/projects/Vehicle-Verification-Blockchain-master/Portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/syed-fahad-hussain/Documents/blockchain/Ethereum/projects/Vehicle-Verification-Blockchain-master/Portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/syed-fahad-hussain/Documents/blockchain/Ethereum/projects/Vehicle-Verification-Blockchain-master/Portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/syed-fahad-hussain/Documents/blockchain/Ethereum/projects/Vehicle-Verification-Blockchain-master/Portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/syed-fahad-hussain/Documents/blockchain/Ethereum/projects/Vehicle-Verification-Blockchain-master/Portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/syed-fahad-hussain/Documents/blockchain/Ethereum/projects/Vehicle-Verification-Blockchain-master/Portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/syed-fahad-hussain/Documents/blockchain/Ethereum/projects/Vehicle-Verification-Blockchain-master/Portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/syed-fahad-hussain/Documents/blockchain/Ethereum/projects/Vehicle-Verification-Blockchain-master/Portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/syed-fahad-hussain/Documents/blockchain/Ethereum/projects/Vehicle-Verification-Blockchain-master/Portal/src/components/portals/department.js\";\nimport React, { Component } from \"react\";\nimport { TextField, Divider, Paper, RaisedButton } from 'material-ui';\nimport Snackbar from 'material-ui/Snackbar';\nimport web3 from \"../../interface/web3\";\nimport VehicleController from \"../../interface/vehicleController\";\nimport HelperFunctions from \"../../utils/constants\";\nimport { auth } from '../../config/firebaseConfiguration';\n\nvar Department =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Department, _Component);\n\n  function Department() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Department);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Department)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      uid: '',\n      VINnumber: '',\n      model: '',\n      maker: '',\n      numberOfWheels: '',\n      numberOfDoors: '',\n      carMilage: '',\n      plateNumber: '',\n      registrationID: '',\n      name: '',\n      additionalDetails: '',\n      open: false,\n      transactionHash: ''\n    };\n\n    _this.handleClick = function () {\n      _this.setState({\n        open: true\n      });\n    };\n\n    _this.handleRequestClose = function () {\n      _this.setState({\n        open: false\n      });\n    };\n\n    _this.submitHandler =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var obj, that, modelDetails, accounts;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              obj = _this.state;\n\n              if (!(_this.state.plateNumber === '' || _this.state.carMilage === '' || _this.state.registrationID === '' || _this.state.additionalDetails === '' || _this.state.maker === '' || _this.state.model === '' || _this.state.numberOfDoors === '' || _this.state.name === '' || _this.state.numberOfWheels === '' || _this.state.VINnumber === '')) {\n                _context.next = 5;\n                break;\n              }\n\n              alert('all the fields are required');\n              _context.next = 13;\n              break;\n\n            case 5:\n              console.log(_this.state);\n              that = _assertThisInitialized(_assertThisInitialized(_this)); // let obj = this.state;\n\n              modelDetails = obj.numberOfWheels + \",\" + obj.model + \",\" + obj.maker + \",\" + obj.numberOfDoors;\n              _context.next = 10;\n              return web3.eth.getAccounts();\n\n            case 10:\n              accounts = _context.sent;\n              _context.next = 13;\n              return VehicleController.methods.addMotorDeptData(HelperFunctions.convertStringToHex(obj.VINnumber), HelperFunctions.convertStringToHex(obj.name), HelperFunctions.convertStringToHex(obj.uid), HelperFunctions.convertStringToHex(obj.carMilage), HelperFunctions.convertStringToHex(modelDetails), HelperFunctions.convertStringToHex(obj.plateNumber), HelperFunctions.convertStringToHex(that.props.obj.name), HelperFunctions.convertStringToHex(that.props.obj.address), HelperFunctions.getUnixTime(), HelperFunctions.convertStringToHex(obj.additionalDetails)).send({\n                from: accounts[0]\n              }).on('transactionHash', function (hash) {\n                console.log(hash);\n\n                _this.setState({\n                  transactionHash: 'https://rinkeby.etherscan.io/tx/' + hash\n                });\n              }).on('confirmation', function () {}).catch(function (err) {\n                console.log(err);\n\n                _this.setState({\n                  open: true\n                });\n              });\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    _this.VINhandler = function (ev) {\n      console.log(ev.target.value);\n\n      _this.setState({\n        VINnumber: ev.target.value\n      });\n    };\n\n    _this.carMilageHandler = function (ev) {\n      console.log(ev.target.value);\n\n      _this.setState({\n        carMilage: ev.target.value\n      });\n    };\n\n    _this.modelHandler = function (ev) {\n      console.log(ev.target.value);\n\n      _this.setState({\n        model: ev.target.value\n      });\n    };\n\n    _this.makerHandler = function (ev) {\n      console.log(ev.target.value);\n\n      _this.setState({\n        maker: ev.target.value\n      });\n    };\n\n    _this.wheelsHandler = function (ev) {\n      console.log(ev.target.value);\n\n      _this.setState({\n        numberOfWheels: ev.target.value\n      });\n    };\n\n    _this.doorsHandler = function (ev) {\n      console.log(ev.target.value);\n\n      _this.setState({\n        numberOfDoors: ev.target.value\n      });\n    };\n\n    _this.nameHandler = function (ev) {\n      console.log(ev.target.value);\n\n      _this.setState({\n        name: ev.target.value\n      });\n    };\n\n    _this.plateNumberHandler = function (ev) {\n      console.log(ev.target.value);\n\n      _this.setState({\n        plateNumber: ev.target.value\n      });\n    };\n\n    _this.registrationIDHandler = function (ev) {\n      console.log(ev.target.value);\n\n      _this.setState({\n        bankOrLoan: ev.target.value\n      });\n    };\n\n    _this.otherDetailsHandler = function (ev) {\n      console.log(ev.target.value);\n\n      _this.setState({\n        additionalDetails: ev.target.value\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Department, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var uid = auth.currentUser.uid;\n      this.setState({\n        uid: uid\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var style = {\n        width: 'auto',\n        marginTop: '15px',\n        paddingLeft: '10px'\n      };\n      return React.createElement(\"div\", {\n        style: {\n          width: 'fit-content',\n          margin: 'auto'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        style: style,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, \"Car Details\"), React.createElement(Paper, {\n        zDepth: 2,\n        style: style,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        floatingLabelFixed: true,\n        onChange: this.VINhandler,\n        floatingLabelText: \"Enter VIN Number here\",\n        underlineShow: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        hintText: \"2828\",\n        floatingLabelFixed: true,\n        onChange: this.carMilageHandler,\n        floatingLabelText: \"Car Mileage\",\n        underlineShow: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }), React.createElement(Divider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        hintText: \"2004\",\n        floatingLabelFixed: true,\n        onChange: this.modelHandler,\n        floatingLabelText: \"Model Number\",\n        underlineShow: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        hintText: \"Honda\",\n        floatingLabelFixed: true,\n        onChange: this.makerHandler,\n        floatingLabelText: \"Maker\",\n        underlineShow: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }), React.createElement(Divider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        hintText: \"4\",\n        floatingLabelFixed: true,\n        onChange: this.wheelsHandler,\n        floatingLabelText: \"Number Of Wheels\",\n        underlineShow: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        hintText: \"4\",\n        floatingLabelFixed: true,\n        onChange: this.doorsHandler,\n        floatingLabelText: \"Number Of Doors\",\n        underlineShow: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }), React.createElement(Divider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      })), React.createElement(TextField, {\n        hintText: \"AGJ487\",\n        floatingLabelText: \"Plate Number\",\n        onChange: this.plateNumberHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        hintText: \"13821312343\",\n        floatingLabelText: \"Registration ID\",\n        onChange: this.registrationIDHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        hintText: \"Goldberg\",\n        floatingLabelText: \"Owner Name\",\n        onChange: this.nameHandler,\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        hintText: \"Other\",\n        floatingLabelText: \"Additional Details\",\n        fullWidth: true,\n        onChange: this.otherDetailsHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }), React.createElement(RaisedButton, {\n        label: \"Submit\",\n        primary: true,\n        onClick: this.submitHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }), this.state.transactionHash ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, \"Track Your Transction Here\"), React.createElement(\"a\", {\n        href: this.state.transactionHash,\n        target: \"_blank\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, \" \", this.state.transactionHash, \" \")) : null, React.createElement(Snackbar, {\n        open: this.state.open,\n        message: \"Metamask is not loggedin\",\n        autoHideDuration: 4000,\n        onRequestClose: this.handleRequestClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }), this.state.transac);\n    }\n  }]);\n\n  return Department;\n}(Component);\n\nexport { Department as default };","map":{"version":3,"sources":["/home/syed-fahad-hussain/Documents/blockchain/Ethereum/projects/Vehicle-Verification-Blockchain-master/Portal/src/components/portals/department.js"],"names":["React","Component","TextField","Divider","Paper","RaisedButton","Snackbar","web3","VehicleController","HelperFunctions","auth","Department","state","uid","VINnumber","model","maker","numberOfWheels","numberOfDoors","carMilage","plateNumber","registrationID","name","additionalDetails","open","transactionHash","handleClick","setState","handleRequestClose","submitHandler","obj","alert","console","log","that","modelDetails","eth","getAccounts","accounts","methods","addMotorDeptData","convertStringToHex","props","address","getUnixTime","send","from","on","hash","catch","err","VINhandler","ev","target","value","carMilageHandler","modelHandler","makerHandler","wheelsHandler","doorsHandler","nameHandler","plateNumberHandler","registrationIDHandler","bankOrLoan","otherDetailsHandler","currentUser","style","width","marginTop","paddingLeft","margin","transac"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {TextField, Divider, Paper, RaisedButton} from 'material-ui';import Snackbar from 'material-ui/Snackbar';\nimport web3 from \"../../interface/web3\";\nimport VehicleController from \"../../interface/vehicleController\";\nimport HelperFunctions from \"../../utils/constants\";\nimport {auth} from '../../config/firebaseConfiguration'\n\nexport default class Department extends Component{\n    state = {\n        uid : '',\n        VINnumber : '',\n        model : '',\n        maker : '',\n        numberOfWheels : '',\n        numberOfDoors : '',\n        carMilage : '',\n        plateNumber : '',\n        registrationID : '',\n        name : '',\n        additionalDetails : '', open : false, transactionHash : ''\n    }\n\n    componentDidMount(){\n        let uid = auth.currentUser.uid;\n        this.setState({\n            uid : uid\n        })\n    }\n\n    handleClick = () => {\n        this.setState({\n          open: true,\n        });\n      };\n    \n      handleRequestClose = () => {\n        this.setState({\n          open: false,\n        });\n      };\n\n    submitHandler = async () => {\n        let obj = this.state;\n        if(this.state.plateNumber === '' || this.state.carMilage === '' || this.state.registrationID === '' || this.state.additionalDetails === '' || this.state.maker === '' || this.state.model === '' || this.state.numberOfDoors === '' || this.state.name === '' || this.state.numberOfWheels === '' || this.state.VINnumber === ''){\n            alert('all the fields are required');\n        }\n        else{\n            console.log(this.state)\n            let that = this;\n            // let obj = this.state;\n            const modelDetails = obj.numberOfWheels+\",\" +obj.model+\",\"+obj.maker +\",\"+obj.numberOfDoors;\n            const accounts = await web3.eth.getAccounts();\n            await VehicleController.methods\n                .addMotorDeptData(\n                    HelperFunctions.convertStringToHex(obj.VINnumber),\n                    HelperFunctions.convertStringToHex(obj.name),\n                    HelperFunctions.convertStringToHex(obj.uid),\n                    HelperFunctions.convertStringToHex(obj.carMilage),\n                    HelperFunctions.convertStringToHex(modelDetails),\n                    HelperFunctions.convertStringToHex(obj.plateNumber),\n                    HelperFunctions.convertStringToHex(that.props.obj.name),\n                    HelperFunctions.convertStringToHex(that.props.obj.address),\n                    HelperFunctions.getUnixTime(),\n                    HelperFunctions.convertStringToHex(obj.additionalDetails))\n                .send({\n                    from: accounts[0]\n                }).on('transactionHash',(hash) =>{\n                    console.log(hash);\n                    this.setState({transactionHash : 'https://rinkeby.etherscan.io/tx/'+hash})\n                }).on('confirmation', function(){\n                    // this.setState = ({open : true})\n                })\n                .catch(err => {\n                    console.log(err);\n                    this.setState({\n                        open : true\n                    })\n                })\n        }\n    }\n\n    VINhandler = (ev) => {\n        console.log(ev.target.value)\n        this.setState({\n            VINnumber : ev.target.value\n        })\n    }\n    carMilageHandler = (ev) => {\n        console.log(ev.target.value)\n        this.setState({\n          carMilage : ev.target.value\n        })\n      }\n      modelHandler = (ev) => {\n        console.log(ev.target.value)\n        this.setState({\n            model : ev.target.value\n        })\n    }\n    makerHandler = (ev) => {\n        console.log(ev.target.value)\n        this.setState({\n            maker : ev.target.value\n        })\n    }\n    wheelsHandler = (ev) => {\n        console.log(ev.target.value)\n        this.setState({\n            numberOfWheels : ev.target.value\n        })\n    }\n    doorsHandler = (ev) => {\n        console.log(ev.target.value)\n        this.setState({\n            numberOfDoors : ev.target.value\n        })\n    }\n    nameHandler = (ev) => {\n        console.log(ev.target.value)\n        this.setState({\n            name : ev.target.value\n        })\n    }\n    plateNumberHandler = (ev) => {\n        console.log(ev.target.value)\n        this.setState({\n            plateNumber : ev.target.value\n        })\n    }\n    registrationIDHandler = (ev) => {\n        console.log(ev.target.value)\n        this.setState({\n            bankOrLoan : ev.target.value\n        })\n    }\n    otherDetailsHandler = (ev) => {\n        console.log(ev.target.value)\n        this.setState({\n            additionalDetails : ev.target.value\n        })\n    }\n\n    render(){\n        const style = {\n            width : 'auto',\n          marginTop : '15px',\n          paddingLeft : '10px'\n        };\n\n        return(\n          <div style = {{width : 'fit-content', margin : 'auto'}}>\n          <h3 style = {style}>Car Details</h3>\n    <Paper zDepth={2} style = {style}>\n      <TextField floatingLabelFixed={true} onChange = {this.VINhandler} floatingLabelText=\"Enter VIN Number here\" underlineShow={false}/>\n      <TextField hintText=\"2828\" floatingLabelFixed={true} onChange = {this.carMilageHandler} floatingLabelText= \"Car Mileage\" underlineShow={false} />\n      <Divider/>\n      <TextField hintText=\"2004\" floatingLabelFixed={true} onChange = {this.modelHandler} floatingLabelText=\"Model Number\" underlineShow={false} />\n      <TextField hintText=\"Honda\" floatingLabelFixed={true} onChange = {this.makerHandler} floatingLabelText = \"Maker\" underlineShow={false} />\n      <Divider />\n      <TextField hintText=\"4\" floatingLabelFixed={true} onChange = {this.wheelsHandler} floatingLabelText=\"Number Of Wheels\" underlineShow={false} />\n      <TextField hintText=\"4\" floatingLabelFixed={true} onChange = {this.doorsHandler} floatingLabelText = \"Number Of Doors\" underlineShow={false} />\n      <Divider />\n    </Paper>\n    <TextField\n        hintText=\"AGJ487\"\n        floatingLabelText=\"Plate Number\"\n        onChange = {this.plateNumberHandler}\n    />\n                    <TextField\n            hintText=\"13821312343\"\n            floatingLabelText=\"Registration ID\"\n            onChange = {this.registrationIDHandler}\n            /><br/>\n                      <TextField\n        hintText=\"Goldberg\"\n        floatingLabelText=\"Owner Name\"\n        onChange = {this.nameHandler}\n        fullWidth={true}\n      /><br/>\n      <TextField\n        hintText=\"Other\"\n        floatingLabelText=\"Additional Details\"\n        fullWidth={true}\n        onChange = {this.otherDetailsHandler}\n      /><br/>\n          <RaisedButton label=\"Submit\" primary={true} onClick = {this.submitHandler} />\n          {(this.state.transactionHash)? ( <div>\n            <h5>Track Your Transction Here</h5>\n            <a href = {this.state.transactionHash} target = \"_blank\"> {this.state.transactionHash} </a>\n              </div>) : (null)\n          }\n          <Snackbar\n          open={this.state.open}\n          message=\"Metamask is not loggedin\"\n          autoHideDuration={4000}\n          onRequestClose={this.handleRequestClose}/>\n          {(this.state.transac)}\n          </div>)\n      }\n}"]},"metadata":{},"sourceType":"module"}